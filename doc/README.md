# BeanCKUP CLI

BeanCKUP CLI 是一个跨平台的命令行备份与恢复工具，支持高效的增量备份、分卷打包、历史追踪和灵活恢复。适用于个人和团队的数据归档、迁移和灾备场景。

## 主要特性

- **增量备份**：仅打包新增或变更的文件，节省空间和时间。
- **分卷交付**：支持按大小自动分卷，便于大数据量分批交付。
- **历史追踪**：自动记录每次交付的清单，支持文件移动/重命名检测。
- **加密压缩**：集成 7z，支持多级压缩和密码加密。
- **灵活恢复**：可按任意历史会话恢复全部或部分文件，支持智能查找引用文件。

## 快速开始

### 1. 编译

需安装 Go 1.18+ 和 7z 命令行工具。

```sh
go build -o beanckup-cli main.go
```

### 2. 备份/交付

运行程序，选择“扫描和交付”，按提示选择工作区目录，设置交付参数（分卷大小、压缩级别、密码等），即可完成备份。

### 3. 恢复

选择“恢复文件”，指定交付包目录，选择历史会话，输入恢复路径和密码（如有），即可还原文件。

## 目录结构

- `main.go`：主程序入口，菜单交互与流程调度
- `internal/config`：配置管理与工作区路径记忆
- `internal/history`：历史清单与状态加载
- `internal/indexer`：文件扫描与分类
- `internal/manifest`：交付清单生成与保存
- `internal/packager`：打包与进度反馈
- `internal/restorer`：恢复流程与智能查找
- `internal/session`：分卷计划与会话管理
- `internal/types`：核心数据结构定义
- `internal/util`：工具函数（哈希、时间、密码等）

## 依赖

- Go 标准库
- 7z 命令行工具（需在 PATH 中）

## 许可证

MIT
